<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Floor Plan Options Demo</title>
    <style>
        /* =========================================
           1. CORE STYLES (Site Plan & Markers)
           ========================================= */
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #222; margin: 0; }

        .siteplan-section {
            display: flex;
            justify-content: center;
            padding: 20px;
        }

        .siteplan-wrapper {
            position: relative;
            width: 100%;
            max-width: 1200px;
        }

        .siteplan-img {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 8px;
            opacity: 0.8; /* Dimmed slightly so neon pops */
        }

        /* The Neon Box */
        .floorplan-box { position: absolute; box-sizing: border-box; z-index: 5; pointer-events: none; }
        .prime-square {
            top: 50%; left: 48%; width: 35%; height: 15%; border-radius: 15px;
            border: 3px solid #2575fc;
            box-shadow: 0 0 5px #2575fc, 0 0 20px #2575fc, inset 0 0 10px #2575fc;
            animation: neon-pulse 1.5s ease-in-out infinite alternate;
        }
        @keyframes neon-pulse {
            from { box-shadow: 0 0 5px #2575fc, 0 0 20px #2575fc, inset 0 0 10px #2575fc; }
            to { box-shadow: 0 0 10px #fff, 0 0 40px #2575fc, inset 0 0 20px #2575fc; }
        }

        /* The Markers */
        .marker {
            position: absolute;
            width: 18px; height: 18px;
            background: #ff4d4f;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            cursor: pointer;
            border: 3px solid #fff;
            box-shadow: 0 0 10px rgba(255, 77, 79, 0.7);
            transition: all 0.3s ease-out;
            z-index: 10;
            animation: pulse 1.8s infinite;
        }
        .marker:hover {
            transform: translate(-50%, -50%) scale(1.3);
            background: #ff1f22; z-index: 100;
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 77, 79, 0.7); }
            100% { box-shadow: 0 0 0 10px rgba(255, 77, 79, 0); }
        }

        /* Marker Labels */
        .marker::after {
            content: attr(data-label);
            position: absolute;
            top: 24px; left: 50%;
            transform: translateX(-50%);
            white-space: nowrap; color: #fff; font-size: 12px; font-weight: bold;
            text-shadow: 0 1px 3px rgba(0,0,0,0.9);
            text-transform: capitalize;
            pointer-events: none;
        }
        .marker:hover::after {
            background-color: rgba(0,0,0,0.8); padding: 4px 8px; border-radius: 4px; top: 28px;
        }

        /* =========================================
           2. MODAL BASE STYLES
           ========================================= */
        .modal {
            display: none;
            position: fixed; z-index: 99999;
            left: 0; top: 0;
            width: 100%; height: 100%;
            overflow: auto; /* Enable scrolling if content is tall */
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: #fff;
            margin: 5% auto; /* 5% from top */
            padding: 20px 35px;
            border-radius: 10px;
            width: 80%; /* WIDER for floor plans */
            max-width: 900px;
            animation: fadeIn 0.3s ease-out;
            position: relative;
        }

        .modal-header {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 20px; border-bottom: 2px solid #eee; padding-bottom: 10px;
        }
        .modal-header h2 { margin: 0; font-size: 28px; color: #333; }
        
        .cta-btn {
            text-decoration: none; color: #fff; padding: 10px 20px;
            border-radius: 20px; font-weight: 500;
            background: linear-gradient(120deg, #6a11cb, #2575fc);
            transition: transform 0.2s;
        }
        .cta-btn:hover { transform: scale(1.05); }

        .close { font-size: 28px; font-weight: bold; color: #aaa; cursor: pointer; position: absolute; right: 20px; top: 10px;}
        .close:hover { color: #000; }

        .modal-hero { width: 100%; margin-bottom: 20px; }
        .modal-hero img { width: 100%; height: 300px; object-fit: cover; border-radius: 8px; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }


        /* =========================================
           OPTION 1: TABS STYLES (Cinema)
           ========================================= */
        .floor-tabs {
            display: flex; gap: 10px; margin-bottom: 20px; border-bottom: 1px solid #ddd;
        }
        .tab-btn {
            background: none; border: none; padding: 10px 20px;
            font-size: 16px; font-weight: 600; color: #666;
            cursor: pointer; border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }
        .tab-btn:hover { background-color: #f9f9f9; }
        .tab-btn.active { color: #2575fc; border-bottom: 3px solid #2575fc; }
        
        .floor-content { display: none; animation: fadeIn 0.5s; }
        .floor-content.active { display: flex; gap: 20px; }
        
        /* Layout for the floor content (Image Left, Info Right) */
        .floor-visual { flex: 2; }
        .floor-visual img { width: 100%; border: 1px solid #eee; border-radius: 8px; }
        .floor-data { flex: 1; background: #f8f9fa; padding: 20px; border-radius: 8px; }


        /* =========================================
           OPTION 2: ACCORDION STYLES (Drive-Thru)
           ========================================= */
        details.floor-accordion {
            margin-bottom: 10px; border: 1px solid #ddd; border-radius: 8px; overflow: hidden;
        }
        details.floor-accordion summary {
            padding: 15px; background: #f8f9fa; cursor: pointer; font-weight: bold; list-style: none;
            display: flex; justify-content: space-between; align-items: center;
        }
        details.floor-accordion summary::after { content: '+'; font-size: 20px; font-weight: bold;}
        details.floor-accordion[open] summary::after { content: '-'; }
        details.floor-accordion[open] summary { background: #eef2ff; color: #2575fc; }
        
        .accordion-content { padding: 15px; display: flex; gap: 15px; }
        .accordion-content img { width: 60%; border-radius: 4px; }


        /* =========================================
           OPTION 3: GALLERY GRID STYLES (Block A)
           ========================================= */
        .gallery-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;
        }
        .gallery-item {
            border: 1px solid #eee; border-radius: 8px; overflow: hidden; transition: transform 0.2s;
        }
        .gallery-item:hover { transform: translateY(-5px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .gallery-item img { width: 100%; height: 150px; object-fit: cover; }
        .gallery-label { padding: 10px; text-align: center; font-weight: bold; background: #fafafa; }

    </style>
</head>
<body>

    <section class="siteplan-section">
        <div class="siteplan-wrapper">
            <img src="templates/images/Overall aerial view 13112025.jpg" alt="Site Plan" class="siteplan-img">
            
            <div class="floorplan-box prime-square"></div>

            <div class="marker" style="top: 47%; left: 33%;" data-building="modal-tabs"></div>

            <div class="marker" style="top: 60%; left: 30%;" data-building="modal-accordion"></div>

            <div class="marker" style="top: 54%; left: 55%;" data-building="modal-gallery"></div>
        </div>
    </section>

    <div class="modal" id="modal-tabs">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="modal-header">
                <h2>Cinema Complex (Tab Style)</h2>
                <a href="#" class="cta-btn">Enquire Now</a>
            </div>

            <div class="modal-hero">
                <img src="https://via.placeholder.com/800x400/222/fff?text=Building+Exterior+View" alt="Exterior">
            </div>

            <div class="floor-tabs">
                <button class="tab-btn active" onclick="openFloor(event, 'tab-L1')">Level 1</button>
                <button class="tab-btn" onclick="openFloor(event, 'tab-L2')">Level 2</button>
                <button class="tab-btn" onclick="openFloor(event, 'tab-L3')">Level 3</button>
            </div>

            <div id="tab-L1" class="floor-content active">
                <div class="floor-visual">
                    <img src="https://via.placeholder.com/600x400/eee/333?text=Level+1+Floor+Plan" alt="L1">
                </div>
                <div class="floor-data">
                    <h3>Ground Floor Retail</h3>
                    <p><strong>Size:</strong> 12,500 sqft</p>
                    <p><strong>Features:</strong> High Ceiling, Main Entrance access.</p>
                </div>
            </div>

            <div id="tab-L2" class="floor-content">
                <div class="floor-visual">
                    <img src="https://via.placeholder.com/600x400/ccc/333?text=Level+2+Floor+Plan" alt="L2">
                </div>
                <div class="floor-data">
                    <h3>Cinema Halls 1-5</h3>
                    <p><strong>Size:</strong> 15,000 sqft</p>
                    <p><strong>Features:</strong> Soundproof, Projection rooms.</p>
                </div>
            </div>

            <div id="tab-L3" class="floor-content">
                <div class="floor-visual">
                    <img src="https://via.placeholder.com/600x400/aaa/333?text=Level+3+Floor+Plan" alt="L3">
                </div>
                <div class="floor-data">
                    <h3>VIP Suites</h3>
                    <p><strong>Size:</strong> 8,000 sqft</p>
                    <p><strong>Features:</strong> Lounge area, Private entry.</p>
                </div>
            </div>
        </div>
    </div>


    <div class="modal" id="modal-accordion">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="modal-header">
                <h2>Drive-Thru (Accordion Style)</h2>
                <a href="#" class="cta-btn">Download Brochure</a>
            </div>

            <div class="modal-hero">
                <img src="https://via.placeholder.com/800x400/333/fff?text=Drive+Thru+Perspective" alt="Exterior">
            </div>

            <details class="floor-accordion" open>
                <summary>Ground Floor - Order Station</summary>
                <div class="accordion-content">
                    <img src="https://via.placeholder.com/400x200?text=Ground+Plan" alt="Ground">
                    <div>
                        <p>Traffic flow optimized for 50 cars/hour.</p>
                        <p>Kitchen Area: 800 sqft</p>
                    </div>
                </div>
            </details>

            <details class="floor-accordion">
                <summary>Level 1 - Dining Area</summary>
                <div class="accordion-content">
                    <img src="https://via.placeholder.com/400x200?text=Level+1+Plan" alt="L1">
                    <div>
                        <p>Seating capacity: 120 pax.</p>
                        <p>Outdoor terrace included.</p>
                    </div>
                </div>
            </details>
            
            <details class="floor-accordion">
                <summary>Level 2 - Staff Quarters</summary>
                <div class="accordion-content">
                    <img src="https://via.placeholder.com/400x200?text=Level+2+Plan" alt="L2">
                    <div>
                        <p>Rest area and storage.</p>
                    </div>
                </div>
            </details>
        </div>
    </div>


    <div class="modal" id="modal-gallery">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="modal-header">
                <h2>Block A (Gallery Style)</h2>
                <a href="#" class="cta-btn">View All Units</a>
            </div>

            <div class="modal-hero">
                <img src="https://via.placeholder.com/800x400/111/fff?text=Block+A+Rendering" alt="Exterior">
            </div>

            <h3 style="margin-top:0;">Floor Plan Gallery</h3>
            <div class="gallery-grid">
                <div class="gallery-item">
                    <img src="https://via.placeholder.com/300x200?text=Type+A" alt="Type A">
                    <div class="gallery-label">Type A (900 sqft)</div>
                </div>
                <div class="gallery-item">
                    <img src="https://via.placeholder.com/300x200?text=Type+B" alt="Type B">
                    <div class="gallery-label">Type B (1,200 sqft)</div>
                </div>
                <div class="gallery-item">
                    <img src="https://via.placeholder.com/300x200?text=Type+C" alt="Type C">
                    <div class="gallery-label">Type C (Corner)</div>
                </div>
                <div class="gallery-item">
                    <img src="https://via.placeholder.com/300x200?text=Penthouse" alt="Penthouse">
                    <div class="gallery-label">Penthouse</div>
                </div>
            </div>
        </div>
    </div>


    <script>
        // 1. Text Cleanup (Hyphen Remover)
        document.querySelectorAll('.marker').forEach(marker => {
            const rawText = marker.getAttribute('data-building');
            if (rawText) {
                // Remove hyphens for display label only
                const cleanText = rawText.replace(/-/g, ' ');
                // If it's one of our test IDs like "modal-tabs", make it look nicer
                const prettyLabel = cleanText.replace('modal ', '');
                marker.setAttribute('data-label', prettyLabel);
            }
        });

        // 2. Modal Open/Close Logic
        const markers = document.querySelectorAll('.marker');
        const closeBtns = document.querySelectorAll('.close');

        markers.forEach(marker => {
            marker.addEventListener('click', () => {
                const id = marker.getAttribute('data-building');
                const modal = document.getElementById(id);
                if (modal) modal.style.display = "block";
            });
        });

        closeBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                btn.closest('.modal').style.display = "none";
            });
        });

        window.addEventListener('click', function (event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = "none";
            }
        });

        // 3. Tab Switching Logic (For Option 1)
        function openFloor(evt, floorId) {
            // Hide all tab content in the current modal
            // We use 'closest' to ensure we only affect tabs inside THIS modal
            const modal = evt.currentTarget.closest('.modal-content');
            const contents = modal.querySelectorAll('.floor-content');
            const buttons = modal.querySelectorAll('.tab-btn');

            // Hide all contents
            contents.forEach(content => content.classList.remove('active')); // Using class instead of style for cleaner JS
            contents.forEach(content => content.style.display = "none");

            // Deactivate all buttons
            buttons.forEach(btn => btn.classList.remove('active'));

            // Show target
            document.getElementById(floorId).style.display = "flex"; // Flex to keep the layout
            evt.currentTarget.classList.add('active');
        }
    </script>

</body>
</html>